spring.application.name=backend
spring.datasource.url=jdbc:mysql://58.87.76.10:3306/nullworking?useSSL=false&serverTimezone=Asia/Shanghai
spring.datasource.username=root
spring.datasource.password=null
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jackson.time-zone=Asia/Shanghai

# JWT Configuration
jwt.secret=YourSuperSecretKeyThatIsAtLeast256BitLongAndRandomlyGenerated
jwt.expiration=86400000

file.upload-dir=uploads

# Ark Configuration
ark.api.key=572a27f6-f053-4a37-b59d-812838a34802
ark.base.url=https://ark.cn-beijing.volces.com/api/v3
ark.system.prompt=请严格遵循以下核心要求：1. 所有内容、所有的输出结果（字段名除外）必须使用中文；2. 所有的输出结果必须为完整、规范的JSON格式JSON，JSON 内部需在数组元素、对象属性间添加合理换行（保持整体为单个 JSON 字符串），严格按照"output_template"输出结果，不得包含任何JSON外的文字；3. 先仔细阅读并完全理解下方的分析规则，再基于日志数据进行分析，确保符合所有约束条件。{"prompt":{"core_analysis_direction":"要求必须生成中文报告（字段名除外），严格按照规范的JSON格式输出分析结果，JSON 内部需在数组元素、对象属性间添加合理换行（保持整体为单个 JSON 字符串），分析日志关联任务的内容完整性、进度推进情况、日志工作规范性与优化空间（不涉及操作错误分析）","log_selection_ranges":[{"range":"单个任务的所有日志","description":"基于同一taskID的全量日志，仅分析该任务自身的进度轨迹、阶段拆分、耗时分布及日志完整性","excluded_analysis":"不涉及多人员对比、跨任务时间分布、人员效率等非单任务专属维度"},{"range":"时间段+人员组合日志","sub_ranges":[{"sub_range":"仅时间段（默认当前用户）","description":"分析当前用户在指定时段内的所有日志，聚焦时间维度的进度分布、日志规范性","excluded_analysis":"不涉及单个任务全阶段拆分、多人员对比等非时段专属维度"},{"sub_range":"时间段+多个人员","description":"对比多人员在指定时段内的日志，重点分析人员效率差异、贡献占比、日志规范共性","excluded_analysis":"不涉及单个任务全阶段拆分、非时段内的孤立任务分析等"}]}],"log_fields":[{"field":"logID","description":"日志唯一标识"},{"field":"userID","description":"关联用户唯一标识（同一用户日志userID一致）"},{"field":"taskID","description":"关联任务唯一标识（同一任务日志taskID一致）"},{"field":"logTitle","description":"日志名称（如“开发阶段记录”）"},{"field":"logContent","description":"日志内容详情（含阶段成果、进度说明等）"},{"field":"logStatus","description":"日志状态（0=未完成，1=已完成）"},{"field":"taskProgress","description":"关联任务进度（百分比，如30=30%）"},{"field":"startTime","description":"工作开始时间（格式HH:MM:SS）"},{"field":"endTime","description":"工作结束时间（格式HH:MM:SS）"},{"field":"logDate","description":"业务日期（格式YYYY-MM-DD）"}],"analysis_focus":{"single_task_logs":{"exclusive_dimensions":["task_stage","task_progress","task_duration","log_completeness_for_task"],"analysis_steps":["按logTitle/logContent拆分该任务的专属阶段（如“需求分析”“开发”）","计算各阶段进度增量（基于taskProgress变化）、总耗时（endTime-startTime累加）及占比","分析各阶段日志内容完整性（是否含“阶段目标+成果”）","生成阶段专属数据点：[{\"stage\": \"开发\", \"progress_increment\": 50, \"duration\": 600}, ...]"],"forbidden_analysis":["多人员对比","跨任务时间分布","非该任务进度关联"],"suggested_chart_types":["柱状图（阶段进度增量）","条形图（阶段耗时）","环形图（耗时占比）","雷达图（完整性评分）"]},"time_period_plus_users":{"time_period_plus_single_user":{"exclusive_dimensions":["daily_progress","daily_log_standard","user_efficiency"],"analysis_steps":["按logDate统计用户每日总进度增量（时段内所有任务taskProgress增量之和）","计算每日日志规范率（logStatus=1且taskProgress同步更新的日志占比）","生成日期专属数据点：[{\"date\": \"2025-11-01\", \"total_progress_increment\": 30}, ...]"],"forbidden_analysis":["单个任务全阶段拆分","其他用户数据关联"],"suggested_chart_types":["Bar_Chart","Line_Chart","Pie_Chart"]},"time_period_plus_multi_users":{"exclusive_dimensions":["user_efficiency_comparison","contribution_rate","log_standard_diff"],"analysis_steps":["对比各人员时段内效率（总进度增量÷总工作时长，单位%/小时）","计算各人员进度贡献占比（该人员增量÷总增量×100%）","生成人员专属数据点：[{\"user_id\": \"用户A\", \"efficiency\": 3.5, \"contribution_rate\": 40}, ...]"],"forbidden_analysis":["单个任务全阶段拆分","非时段内孤立任务分析"],"suggested_chart_types":["Bar_Chart","Line_Chart","Pie_Chart"]}}},"output_template":{"code":200,"constructive_suggestions":[{"id":"sug-001","severity":"high","title":"规范开发阶段日志模板","description":"开发阶段60%日志未记录功能细节，建议增加“功能点明细”字段","impact":"可将开发阶段内容完整度从30%提升至85%"},{"id":"sug-002","severity":"medium","title":"补充测试阶段问题记录项","description":"测试阶段40%日志未提及问题解决方案，建议新增“问题处理结果”填写项","impact":"可提升测试阶段日志实用价值至75%"}],"keyword_statistics":[{"keyword":"前端设计","count":9,"percentage":45},{"keyword":"接口开发","count":6,"percentage":30},{"keyword":"测试验证","count":5,"percentage":25}],"summary":"综合分析显示：单个任务中开发阶段进度增量占比50%、耗时占比60%（环形图可见），但该阶段日志内容完整度仅30%；时段内用户每日进度波动较大，日志规范率平均80%。建议优先完善开发阶段日志模板，补充测试阶段问题记录项。","frontend_chart_data":[{"selected_chart_type":"Bar_Chart","description":"柱状图（阶段进度增量）","chart_config":{"x_axis":"任务阶段","y_axis":"进度增量（%）","data":[{"stage":"需求分析","progress_increment":20},{"stage":"开发","progress_increment":50},{"stage":"测试","progress_increment":20},{"stage":"上线准备","progress_increment":10}],"additional_config":{"color_scheme":["#4285F4","#EA4335","#FBBC05","#34A853"],"display_labels":true,"legend_position":"none"}}},{"selected_chart_type":"Pie_Chart","description":"饼图（阶段耗时占比）","chart_config":{"name":"任务阶段","value":"耗时占比（%）","data":[{"stage":"需求分析","proportion":15},{"stage":"开发","proportion":50},{"stage":"测试","proportion":20},{"stage":"上线准备","proportion":15}],"additional_config":{"color_scheme":["#4285F4","#EA4335","#FBBC05","#34A853"],"display_labels":true,"radius":["40%","70%"]}}},{"selected_chart_type":"Line_Chart","description":"折线图（每日进度）","chart_config":{"x_axis":"日期","y_axis":"每日进度增量（%）","data":[{"date":"2025-11-01","progress_increment":25},{"date":"2025-11-02","progress_increment":35},{"date":"2025-11-03","progress_increment":15},{"date":"2025-11-04","progress_increment":40},{"date":"2025-11-05","progress_increment":30}],"additional_config":{"line_color":"#4285F4","fill":"rgba(66, 133, 244, 0.1)","display_labels":true}}}]},"range_matching_rules":{"single_task_logs":{"trigger_condition":"日志中所有记录的taskID唯一","output_adjustment":"图表数据聚焦任务阶段维度，包含进度、耗时、完整性相关图表；隐藏人员/日期维度图表"},"time_period_plus_users":{"trigger_condition":"日志包含多个logDate且userID≥1","output_adjustment":"单用户时段输出日期相关图表（折线图/柱状图等）；多用户输出人员对比图表（条形图/饼图等）；隐藏单个任务阶段拆分图表"}},"field_constraints":{"resultID":"正整数（1,2,3...），唯一标识分析结果","constructive_suggestions":"数组长度≥1，severity仅允许high/medium/low，建议内容与当前日志范围匹配，描述需为中文","keyword_statistics":"单层数组，关键词仅来自当前范围日志内容，百分比总和≤100，关键词为中文","frontend_chart_data":{"selected_chart_type":"必须为对应分析维度的建议图表类型之一，名称明确（如'Bar_Chart','Line_Chart','Pie_Chart'）","chart_config.data":"数据长度≥3，数值符合业务逻辑（进度0-100、耗时≥0、占比总和=100），其中文字段（如stage、date、user）为中文"},"summary":"150-300字，需关联图表核心结论（如'开发阶段耗时占比60%'），不提及无关维度，内容为中文"},"custom_prompt_handling":"若用户指定图表类型，优先生成对应结构数据（需符合当前分析维度合理性）；若提示词涉及其他范围维度，自动忽略并按当前范围逻辑执行","format_check_standards":["数据类型匹配（进度/占比为整数、效率为1位小数、耗时为整数分钟）","chart_config.data无重复维度（如阶段/日期/人员不重复）","用文字标题代替数字ID（如'用户A'代替'user01'、'需求分析'代替'stage01'），标题为中文","字段名称与模板完全一致（大小写敏感），无新增/空值字段","生成结果中，除字段名外均为中文，图表数据与分析结论无矛盾，整体为完整JSON格式，JSON 内部需在数组元素、对象属性间添加合理换行（保持整体为单个 JSON 字符串）"]}}